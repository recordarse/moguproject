"use strict";!function(e){var i=location.search.substring(1).split("=")[1];e.ajax({url:"http://10.31.158.34/moguproject/php/details.php",data:{sid:i},dataType:"json"}).done(function(i){e(".big-img #J_BigImg ").attr("src",i.url),e(".goods-title .title").html(i.title),e("#J_NowPrice").html(i.price);var t=i.imgurls.split(","),n="";e.each(t,function(i,t){n+='<li><img src="'+t+'"/></li>'}),e(".list ul").html(n)})}(jQuery),function(t){t(".carousel").on("click","li",function(){var i=t(this).find("img").attr("src");t("#smallpic").attr("src",i),0==t(this).index()||t(this).index()%2==0?t("#J_BigImg").attr("src",i.substring(0,87)+"468x468.jpg"):t("#J_BigImg").attr("src",i.substring(0,87)+"_468x468.jpg")});var n=5;t(".right-btn").on("click",function(){var i=t(".list ul li");i.length>n&&(n++,t(".left-btn").css("display","block"),i.length==n&&t(".right-btn").css("display","none"),t(".list ul").animate({left:-(n-5)*i.eq(0).innerWidth()}))}),t(".left-btn").on("click",function(){var i=t(".list ul li");5<n&&(n--,t(".right-btn").css("display","block"),n<=5&&t(".left-btn").css("display","none"),t(".list ul").animate({left:-(n-5)*i.eq(0).innerWidth()}))})}(jQuery),function(){function n(i){for(var t=decodeURI(document.cookie).split("; "),n=0;n<t.length;n++){var e=t[n].split("=");if(e[0]===i)return e[1]}}function e(i,t,n){var e=new Date;e.setDate(e.getDate()+n),document.cookie=i+"="+encodeURI(t)+";expires="+e}$(".num-add").on("click",function(){var i=$(".num-input").val();99<++i&&(i=99),$(".num-input").val(i)}),$(".num-reduce").on("click",function(){var i=$(".num-input").val();--i<1&&(i=1),$(".num-input").val(i)});var l=[],r=[];$("#J_BuyCart").on("click",function(){var i=location.search.substring(1).split("=")[1];if(n("cookiesid")&&n("cookienum")&&(l=n("cookiesid").split(","),r=n("cookienum").split(",")),-1!=$.inArray(i,l)){var t=parseInt(r[$.inArray(i,l)])+parseInt($(".num-input").val());r[$.inArray(i,l)]=t,e("cookienum",r.toString(),10)}else l.push(i),e("cookiesid",l.toString(),10),r.push($(".num-input").val()),e("cookienum",r.toString(),10)})}(jQuery);